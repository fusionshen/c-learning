if(s[i] == '\n')
    //     --i;            /* leave newline in place  */